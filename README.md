飞机机务保障部工具借还 APP 需求文档

一、引言
1.1 项目背景
在航空领域，飞机机务保障工作对各类工具的依赖性极高，工具的高效管理直接影响飞机维护的质量与效率。然而，传统人工登记的工具借还管理方式存在诸多弊端，如流程繁琐、效率低下、易出现工具丢失、借还记录混乱等问题。为解决这些痛点，开发一款基于安卓系统、结合 MySQL 数据库的飞机机务保障部工具借还 APP 迫在眉睫。该 APP 旨在实现工具借还、库存、交接等业务流程的数字化管理，通过多角色权限控制与数据统计分析，提升机务保障工作的效率与准确性，为飞机的安全运行提供有力支持。
1.2 文档目的
本文档旨在明确飞机机务保障部工具借还 APP 的功能需求、非功能需求以及性能需求等，为开发团队提供清晰的开发方向，同时作为项目验收和用户使用的参考依据。
1.3 术语定义
术语
定义
机务人员
飞机机务保障部中负责日常工具借用、归还及参与工具交接流程的工作人员
工具管理员
负责工具信息录入、借还状态更新、库存管理以及工具交接确认的人员
部门管理人员
主要进行数据统计与分析、用户管理等工作，为决策提供支持的人员
借还记录
记录工具借用和归还相关信息的记录，包括借用时间、归还时间、借用人等
工具状态
工具当前所处的状态，如 “可用”“借出”“维修中”“报废” 等

二、总体描述
2.1 产品定位
本 APP 是一款专为飞机机务保障部设计的工具管理平台，基于安卓系统开发，结合 MySQL 数据库，实现工具全生命周期的数字化管理，满足机务人员、工具管理员和部门管理人员不同的业务需求。
2.2 用户特点
机务人员：日常工作中频繁借用和归还工具，对 APP 的操作便捷性要求较高，希望能够快速完成借用申请、归还等操作，并随时查看个人借用历史记录。
工具管理员：需要高效管理工具信息，及时处理借用申请和归还操作，准确掌握工具库存状态，因此对 APP 的功能完整性和数据准确性要求严格。
部门管理人员：主要关注数据统计与分析结果，用于决策制定，要求 APP 能够提供全面、准确且直观的数据报表和分析图表。
2.3 一般约束
技术约束：安卓端需适配 Android 7.0 及以上版本，后端采用 Spring Boot 框架，数据库使用 MySQL 8.0，数据通信采用 HTTPS 协议进行加密传输。
时间约束：项目开发周期为 [X] 个月，需在规定时间内完成需求分析、设计、开发、测试和上线等工作。
成本约束：控制开发成本，优先选用开源技术和工具，在保证系统性能和功能的前提下，合理控制硬件和软件采购成本。
2.4 假设和依赖
假设：假设安卓设备的网络连接稳定，能够满足 APP 与后端服务器的数据交互需求；假设用户能够按照操作指南正确使用 APP。
依赖：依赖 MySQL 数据库的稳定运行，依赖 Spring Boot 框架提供的后端服务支持，依赖安卓系统的相关功能（如摄像头、NFC、地理位置定位等）实现特定业务功能。
三、详细需求
3.1 功能需求
3.1.1 用户管理
注册登录
支持手机号、邮箱两种注册方式，用户输入手机号或邮箱后，点击获取验证码，系统通过短信或邮件发送验证码至用户手机或邮箱，用户输入正确验证码并设置密码完成注册。登录时，用户可选择使用手机号 / 邮箱 + 密码或短信验证码的方式进行登录。
针对安卓系统特性，优化验证码获取与输入流程，自动检测短信中的验证码并填充至输入框，减少用户手动输入操作，确保操作便捷流畅。
用户首次登录时，需完善个人信息，包括姓名、工号（格式需符合特定规范，如 AA - 0001，且在数据库中唯一校验）、所在班组等，确保信息准确无误。
权限管理
依据用户角色赋予不同的操作权限：
工具管理员：具备工具信息录入、修改、删除；借还状态更新；库存管理；借用申请审批；工具交接确认；查询所有工具借用历史记录等权限。
机务工作人员：可发起工具借用申请、归还申请；参与工具交接流程；查询个人借用历史记录。
部门管理人员：拥有数据统计与分析、用户管理（包括用户信息查看、权限修改等）、全量工具借用历史记录查询与深度分析权限。
在安卓系统上，通过清晰的界面设计区分不同用户角色的操作入口，例如，工具管理员登录后进入工具管理主界面，机务人员进入借用申请主界面，部门管理人员进入数据统计主界面，方便用户快速找到对应功能。同时，不同角色对历史记录查询的权限范围严格按照上述规定执行，确保数据安全。
3.1.2 工具管理
信息录入
工具管理员负责将各类工具的详细信息录入系统，包括工具名称、型号、规格、数量、生产厂家、购置时间、存放位置、条形码 / 二维码等信息。
支持两种录入方式：手动录入和扫码录入。手动录入时，系统提供友好的表单界面，方便管理员输入信息；扫码录入时，利用安卓设备的摄像头功能扫描工具二维码或条形码，自动填充部分信息（如工具型号、生产厂家等，需提前在数据库中建立对应关系），提高录入效率。
分类检索
APP 提供多种工具分类方式，如按用途（维修工具、检测工具等）、型号、生产厂家、存放位置等分类。
用户可通过关键词搜索、分类筛选等方式快速检索所需工具。针对安卓系统的触摸操作特性，优化筛选与检索的交互设计，例如采用滑动筛选栏选择分类，点击搜索按钮进行关键词搜索，搜索结果实时展示在界面上，方便用户查看和选择。
状态更新
在工具借还过程中，系统实时更新工具的状态，如 “可用”“借出”“维修中”“报废” 等。当工具状态发生变更时，系统自动记录变更时间和操作人员。
利用安卓系统的通知功能，及时推送工具状态更新消息给相关用户。例如，当工具从 “可用” 变为 “借出” 时，通知借用人和工具管理员；当工具进入 “维修中” 状态时，通知工具管理员和相关维修人员，确保信息同步。
3.1.3 借还管理
借用申请
机务工作人员在 APP 上提交工具借用申请，需填写借用工具名称（支持搜索选择）、数量、预计借用时间、借用原因等信息。提交申请后，系统自动推送审批通知给工具管理员，在安卓系统上，通过弹窗、通知栏等方式提醒工具管理员，确保审批流程及时启动。
在借用申请界面，明确标注必填项和选填项，采用醒目的颜色（如红色）或符号（如 *）提示用户，避免误操作。同时，对输入内容进行格式校验，如数量必须为正整数，预计借用时间需符合合理范围等。
审批流程
工具管理员收到借用申请后，在 APP 上进行审批操作。审批界面展示借用申请的详细信息，管理员可选择同意或拒绝。若同意申请，系统更新工具状态为 “借出”，并记录借用人、借用时间等信息；若拒绝申请，需注明拒绝原因，便于借用人了解情况。
优化安卓端审批操作界面，按钮布局合理，操作简单直观，例如设置明显的 “同意”“拒绝” 按钮，以及原因输入框，方便管理员快速完成审批操作。
归还操作
机务工作人员在规定时间内归还工具时，在 APP 上发起归还申请。工具管理员进行实物验收后，在 APP 上确认归还，系统更新工具状态为 “可用”，并记录归还时间，完成借还流程。
利用安卓设备的 NFC 功能（若设备支持），可实现快速识别归还工具。用户将工具靠近设备 NFC 感应区域，系统自动读取工具信息并匹配借用记录，简化归还操作流程，提升归还操作效率。同样在归还申请界面，清晰区分必填项和选填项，确保操作准确性。
3.1.4 工具交接
交接申请
当机务工作人员之间需要进行工具交接时，原借用人在 APP 上发起交接申请，填写交接工具名称、数量、交接对象（接收人姓名、工号，系统自动校验工号存在性）、交接原因等信息。提交申请后，系统向接收人发送交接通知，通过安卓系统的通知功能提醒接收人。
交接确认
接收人收到交接通知后，在 APP 上确认接收。双方在现场完成工具实物交接后，工具管理员通过 APP 确认交接完成，系统更新工具借用人信息，完成交接流程。在安卓系统上，利用地理位置定位功能（调用设备 GPS），记录交接地点，确保交接信息完整，同时记录交接时间和交接双方人员信息。
3.1.5 提醒功能
借用到期提醒
在工具借用到期前 [4] 小时，系统自动向借用人发送提醒消息，提醒方式包括铃声、震动、弹窗等，督促其按时归还工具，避免逾期。提醒消息内容包含工具名称、借用时间、到期时间等关键信息。
超期未还提醒
若工具超期未还，系统持续向借用人和工具管理员发送提醒消息，提醒频率为每天 [2] 次，直至工具归还，确保工具及时回收。超期提醒消息中注明超期天数和逾期后果，如可能影响后续借用权限等。
交接提醒
在工具交接申请发出后，系统向接收人持续发送提醒消息，提醒频率为每 [2] 小时一次，直至接收人确认交接，保障交接流程顺利进行。交接提醒消息包含交接工具信息和交接发起人信息。
3.1.6 数据统计与分析
借还记录统计
系统自动记录所有工具的借还历史，生成借还记录报表，支持用户查询特定时间段内工具的借还情况。在安卓端，优化报表展示界面，采用分页加载方式，支持横向、纵向滑动查看完整报表信息。报表按照清晰的布局规范展示，采用合适的颜色搭配区分不同类型的数据，选择易读的字体和合适的字号，例如表头使用加粗字体，数据行采用交替颜色显示，便于用户查看和分析。
使用频率分析
通过对工具借还数据的分析，统计各类工具的使用频率，包括借用次数、使用时长等指标。以直观的图表形式（如柱状图展示不同工具的借用次数对比，折线图展示工具使用频率随时间的变化趋势）在安卓 APP 上展示分析结果，方便用户快速理解数据趋势。同时，提供数据导出功能，用户可将分析结果导出为 Excel 格式文件，进行进一步的数据分析和处理。
库存统计
实时统计工具的库存数量，当库存数量低于设定的预警值时，系统自动向工具管理员发送补货提醒。利用安卓系统的通知渠道，通过弹窗、通知栏等方式及时向工具管理员推送库存预警消息，消息内容包含库存不足的工具名称、当前库存数量和预警值等信息。同时，在 APP 的库存管理界面，对库存不足的工具进行突出显示，例如使用红色字体或图标标记，方便管理员快速识别和处理。
3.1.7 历史记录查询
查询权限与范围
机务工作人员：可以查询自己的工具借用历史记录，包括借用的工具名称、数量、借用时间、归还时间、借用状态（已归还、未归还）、借用原因等信息。
工具管理员：能够查询所有工具的借用历史记录，除了上述信息外，还可查看审批人、工具当前状态等详细信息。
部门管理人员：可进行全量的工具借用历史记录查询，用于深入分析工具使用情况、人员借用习惯等，支持对查询结果进行多维度的深度分析，为决策提供支持。
查询条件设置
支持按时间范围查询，用户可选择特定的时间段，如近一周、近一个月、自定义时间段等。时间选择界面采用日历控件，方便用户快速选择起止日期。
可按工具名称、型号、借用人姓名、工号、借用人所属部门、借用状态（正常借用、超期未还等）、工具类别等关键词进行模糊查询。查询输入框提供联想搜索功能，当用户输入关键词时，自动提示相关的工具名称、借用人等信息，提高查询效率。
提供工具状态筛选，如已归还、未归还、维修中、报废等，方便用户快速定位所需记录。筛选条件以复选框或下拉菜单的形式展示，用户可根据需求自由组合筛选条件。
查询结果展示
以列表形式展示查询结果，每条记录包含关键信息，如工具名称、借用人、借用时间、归还时间等。列表支持按时间、工具名称等字段进行排序，用户可通过点击表头字段实现升序或降序排列，方便用户查看和对比数据。对于超期未还记录等重要信息，采用不同颜色（如红色背景）或标记（如感叹号图标）突出显示，引起用户注意。
点击某条记录可查看详细信息，包括借用原因、审批意见、工具归还时的状况等。详细信息界面采用分页展示方式，内容布局合理，关键信息突出显示。
除列表形式外，还以图表（如柱状图展示借用频率、折线图展示不同时间段的借用数量）直观呈现部分数据，帮助用户快速理解数据趋势。图表可进行缩放和拖动操作，方便用户查看细节。
导出功能：支持将查询结果导出为 Excel、PDF 等常见格式，方便用户进行离线分析和存档。导出操作简单便捷，用户点击导出按钮后，选择导出格式和保存路径，系统自动生成相应格式的文件并保存到指定位置。
数据纠错与校验：建立历史记录数据的纠错和校验机制，若发现历史记录中的数据存在错误（如归还时间异常），用户可提交纠错申请。系统收到申请后，按照既定流程进行审核，指定专人负责审核和修正错误数据，并记录审核和修正过程，确保数据的准确性和完整性。
与其他功能交互：当在历史记录查询结果中，发现某工具频繁借出且超期，系统自动触发对该工具的特殊管理流程，如限制借用（在借用申请审批时自动拒绝该工具的借用申请）、增加库存预警值等。同时，向工具管理员和部门管理人员发送预警消息，提醒其关注该工具的使用情况。
3.2 非功能需求
3.2.1 性能需求
响应时间：APP 的界面操作响应时间应控制在 3 秒以内，如点击按钮、切换页面等操作；复杂查询操作（如全量历史记录查询）响应时间应控制在 10 秒以内，确保用户能够快速获取所需信息，提高工作效率。
吞吐量：系统应能够支持至少 [X] 个用户同时在线操作，在高并发情况下，仍能保证系统的正常运行，避免出现卡顿、崩溃等问题，确保机务保障工作不受影响。
数据准确性：采用数据一致性保障措施，如乐观锁或悲观锁机制处理多用户同时操作导致的数据冲突，确保数据记录和更新的准确性。同时，建立数据校验机制，对用户输入的数据进行格式校验和逻辑校验，确保在安卓设备上录入、传输的数据准确可靠。
3.2.2 安全需求
数据加密：对用户的个人信息（如姓名、工号、手机号、邮箱、密码等）、工具借还数据、交接数据、历史记录等进行加密存储与传输。明确采用的具体加密算法（如 AES - 256）和加密强度，适配安卓系统的加密算法与安全框架，确保数据在设备存储与网络传输过程中的安全性。在用户注册、登录、数据传输等环节，对敏感信息进行加密处理，防止数据被窃取或篡改。
访问控制：严格限制不同用户角色的操作权限，只有经过授权的用户才能进行相应操作，避免越权访问，确保系统数据的安全性。建立权限动态管理机制，当用户角色变更时，及时同步更新其操作权限。在用户登录时，验证用户的身份和权限，根据用户角色加载相应的功能菜单和操作界面，防止未授权用户访问敏感功能和数据。
操作日志：系统自动记录用户的所有操作日志，包括登录、注册、工具借还、审批、交接、数据查询等操作，记录操作时间、操作人员、操作内容等信息。规定操作日志的保留期限（如 [X] 年），建立审计机制，定期对操作日志进行审查，以便追踪用户操作行为，及时发现和处理安全问题。在安卓系统上，对操作日志进行加密存储，采用数字签名等技术防止日志信息被非法获取或篡改。
安全漏洞检测与修复：定期（如每月）进行安全漏洞检测，明确使用的检测工具（如 Nessus、OpenVAS 等）。当发现安全漏洞后，规定修复时间（如在 [X] 个工作日内）和责任人，及时修复漏洞

## 数据库配置与初始化
### 数据库配置
在项目开发和部署过程中，需要配置 MySQL 数据库的连接信息，包括数据库地址、端口、用户名、密码等。可以在项目的配置文件中进行相应的配置。以下是一个简单的示例配置：
```properties
# MySQL 数据库连接配置
db.url=jdbc:mysql://39.106.150.70/aircraft_tool_management
db.username=aircraft_tool_management
db.password=88888888